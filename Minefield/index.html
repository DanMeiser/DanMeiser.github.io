<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minefield</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="style.css?v=2">
</head>
<body>
    <div id="gameWrapper">

        <!-- Menu Screen -->
        <div id="menu" class="screen">
            <div class="menu-content">
                <h1>&#128163; Minefield</h1>
                <p>Choose your explorer!</p>
                <div class="menu-characters">
                    <button class="menu-character-btn" data-character="calvin">
                        <img src="../assets/calvin_preview.png" alt="Calvin">
                        <span>Calvin</span>
                        <span class="high-score-label">Best: <span id="calvinBest">0</span></span>
                    </button>
                    <button class="menu-character-btn" data-character="bailey">
                        <img src="../assets/bailey_preview.png" alt="Bailey">
                        <span>Bailey</span>
                        <span class="high-score-label">Best: <span id="baileyBest">0</span></span>
                    </button>
                </div>
                <div class="menu-info">
                    <strong>How to Play:</strong>
                    <p>&#8226; Arrow keys / WASD to walk</p>
                    <p>&#8226; <strong>F</strong> to toggle &#128681; Flag Mode &mdash; then move to flag</p>
                    <p>&#8226; Shift + Arrow for a quick one-shot flag</p>
                    <p>&#8226; Flagged tiles block movement &mdash; unflag to walk through</p>
                    <p>&#8226; Numbers show nearby mines &mdash; clear all safe tiles to win!</p>
                </div>
                <a href="https://danmeiser.github.io/" class="btn btn-secondary" style="display:inline-block;margin-top:12px;text-decoration:none;">&#127968; Home</a>
            </div>
        </div>

        <!-- Game Over / Win Screen -->
        <div id="gameOver" class="screen hidden">
            <div class="game-over-content">
                <h2 id="endTitle">Game Over!</h2>
                <p>Score: <span id="finalScore">0</span></p>
                <p>Best: <span id="finalBest">0</span></p>
                <button id="restartBtn" class="btn btn-primary">Play Again</button>
                <button id="menuBtn" class="btn btn-secondary">Main Menu</button>
            </div>
        </div>

        <!-- HUD -->
        <div id="hud" class="hud hidden">
            <div class="hud-pill">Score: <span id="scoreHUD">0</span></div>
            <div class="hud-pill flags-pill">&#128163; <span id="minesHUD">45</span></div>
        </div>

        <canvas id="gameCanvas"></canvas>

        <!-- Mobile D-Pad -->
        <div id="dpad">
            <button class="dpad-btn" id="dpadUp">&#8593;</button>
            <div class="dpad-row">
                <button class="dpad-btn" id="dpadLeft">&#8592;</button>
                <button class="dpad-btn flag-btn" id="flagBtn">&#128681;</button>
                <button class="dpad-btn" id="dpadRight">&#8594;</button>
            </div>
            <button class="dpad-btn" id="dpadDown">&#8595;</button>
        </div>

    </div>

    <script src="minefield.js?v=2"></script>
</body>
</html>
